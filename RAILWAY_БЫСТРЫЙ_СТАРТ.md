# üöÇ Railway ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> –°–≤—è–∑–∞–Ω–æ: [–¢–ó](–¢–ó_–≤—ã–≥—Ä—É–∑–∫–∞_—á–∞—Ç–æ–≤_RetailCRM.md) | [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.md) | [–ë—ç–∫–ª–æ–≥](–ë—ç–∫–ª–æ–≥.md) | 

---


## ‚ö° –ó–∞ 5 –º–∏–Ω—É—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
- –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
- **New Project** ‚Üí **Deploy from GitHub repo**

### 2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í **Settings ‚Üí Variables** –¥–æ–±–∞–≤—å—Ç–µ:

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
```
RETAILCRM_URL=https://instinto.retailcrm.ru
RETAILCRM_API_KEY=YF6FMd9pxeNtdBajaLFLs1FJgiQSuHqo
GOOGLE_SHEETS_ID=1to83Pw9vjl6p1RnnrJT-qtHc85x5s2U_qYp6jSZKhYM
START_DATE=2025-10-01
END_DATE=2025-12-26
CHANNELS=whatsapp,instagram
RAILWAY_SCRIPT=run_all
```

#### –°–µ–∫—Ä–µ—Ç—ã (–æ—Ç–º–µ—Ç—å—Ç–µ –∫–∞–∫ Secret):
1. **GOOGLE_SERVICE_ACCOUNT_JSON** ‚Äî –≤—Å—Ç–∞–≤—å—Ç–µ –≤–µ—Å—å JSON –∏–∑ —Ñ–∞–π–ª–∞ `retailcrm-482419-9480820e32ab.json`
2. **WEB_CURL_CONTENT** ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `web_curl.txt`
3. **WEB_MESSAGES_CURL_CONTENT** ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `web_messages_curl.txt`

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**Settings ‚Üí Cron** (–∏–ª–∏ **Schedules**):

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Cron**: `0 9 * * *` (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00 UTC)
- **RAILWAY_SCRIPT**: `run_all`

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω
- **Cron**: `*/15 * * * *`
- **RAILWAY_SCRIPT**: `incremental_export`
- –í—ã–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —á–∞—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∞–∫–∞–¥–µ–º–∏–∏ –æ–±—É—á–µ–Ω–∏—è (—Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ)

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞
1. **–°–µ—Ä–≤–∏—Å 1** (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ): `RAILWAY_SCRIPT=run_all`, cron `0 9 * * *`
2. **–°–µ—Ä–≤–∏—Å 2** (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω): `RAILWAY_SCRIPT=incremental_export`, cron `*/15 * * * *`

### 4. –ì–æ—Ç–æ–≤–æ!

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç –∏ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

---

## üìã –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–°–º. `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–¥–µ–ø–ª–æ–π_Railway.md`

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–õ–æ–≥–∏**: Railway ‚Üí Deployments ‚Üí View Logs
2. **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫**: Railway ‚Üí Deployments ‚Üí Manual Deploy

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Railway –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (~5-10 –º–∏–Ω—É—Ç)
- –î–ª—è –¥–æ–ª–≥–∏—Ö –∑–∞–¥–∞—á (–≤—ã–≥—Ä—É–∑–∫–∞ 3260 —á–∞—Ç–æ–≤) –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω
- –ò–ª–∏ —Ä–∞–∑–±–µ–π—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 1000 —á–∞—Ç–æ–≤ –∑–∞ —Ä–∞–∑)

